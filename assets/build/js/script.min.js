let formCadastro=document.getElementById("form-cadastro");formCadastro&&formCadastro.addEventListener("submit",e=>{e.preventDefault(),window.scrollTo(0,0),window.document.body.classList.add("noScroll");let t=document.querySelector(".popup-info"),n=new FormData;n.append("name",document.getElementById("name").value),n.append("email",document.getElementById("email").value),n.append("password",document.getElementById("password").value),fetch(location.origin+"/usuarios/cadastrar",{method:"POST",body:n}).then(e=>e.json()).then(e=>{let n;n=1==e.success?'\n                        <a href="/game/login">\n                            Ok\n                        </a>\n                    ':'\n                        <button onclick="successFalse()">Ok</button>\n                    ',t.parentElement.classList.add("show"),t.innerHTML=`\n                    <h3>${e.title}</h3>\n                    <p>${e.message}</p>\n                    <div class="button-container center">\n                        ${n}\n                    </div>\n                `,setTimeout(()=>{1==e.success?location.href="/game/login":successFalse()},5e3)}).catch(()=>{t.parentElement.classList.add("show"),t.innerHTML='\n                    <h3 class="error">Erro de serviço</h3>\n                    <p>Estamos com problemas internos, por favor, tente mais tarde.</p>\n                    <div class="button-container center">\n                        <a href="/">\n                            Ok\n                        </a>\n                    </div>\n                ',setTimeout(()=>{location.href="/"},5e3)})});let esqueciMinhaSenha=document.getElementById("form-esqueciMinhaSenha");if(esqueciMinhaSenha){let e=document.querySelector(".popup-info");esqueciMinhaSenha.addEventListener("submit",t=>{t.preventDefault();let n=new FormData;n.append("email",document.getElementById("email").value),fetch(location.origin+"/usuarios/emailEsqueciMinhaSenha",{method:"POST",body:n}).then(e=>e.json()).then(t=>{t.success,e.parentElement.classList.add("show"),e.innerHTML=`\n                        <h3 class="error">${t.title}</h3>\n                        <p>${t.message}</p>\n                        <div class="button-container center">\n                            <a href="/">Ok</a>\n                        </div>\n                    `,setTimeout(()=>{location.href="/"},5e3)}).catch(()=>{e.parentElement.classList.add("show"),e.innerHTML='\n                    <h3 class="error">Erro de serviço</h3>\n                    <p>Estamos com problemas internos, por favor, tente mais tarde.</p>\n                    <div class="button-container center">\n                        <a href="/" class="error">\n                            Ok\n                        </a>\n                    </div>\n                ',setTimeout(()=>{location.href="/"},5e3)})})}let formLogin=document.getElementById("form-login");formLogin&&formLogin.addEventListener("submit",e=>{e.preventDefault(),window.scrollTo(0,0),window.document.body.classList.add("noScroll");let t=document.querySelector(".popup-info"),n=new FormData;n.append("email",document.getElementById("email").value),n.append("password",document.getElementById("password").value),fetch(location.origin+"/usuarios/logar",{method:"POST",body:n}).then(e=>e.json()).then(e=>{if(1==e.success)location.href="/game";else{let n;n="Seu usuário já participou do desafio. Você só pode participar do desafio 1 vez!"==e.message?'\n                            <a href="/">\n                                Ok\n                            </a>\n                        ':'\n                            <button onclick="successFalse()">Ok</button>\n                        ',t.parentElement.classList.add("show"),t.innerHTML=`\n                        <h3 class="error">${e.title}</h3>\n                        <p>${e.message}</p>\n                        <div class="button-container center">\n                            ${n}\n                        </div>\n                    `,setTimeout(()=>{"Seu usuário já participou do desafio. Você só pode participar do desafio 1 vez!"==e.message?location.href="/":successFalse()},5e3)}}).catch(()=>{t.parentElement.classList.add("show"),t.innerHTML='\n                    <h3 class="error">Erro de serviço</h3>\n                    <p>Estamos com problemas internos, por favor, tente mais tarde.</p>\n                    <div class="button-container center">\n                        <a href="/" class="error">\n                            Ok\n                        </a>\n                    </div>\n                ',setTimeout(()=>{location.href="/"},5e3)})}),document.getElementById("menu-hamburguer")&&document.getElementById("menu-hamburguer").addEventListener("click",e=>{1==e.target.checked?(document.querySelector(".menu-container-items").classList.add("open"),e.target.checked=!1,document.body.classList.add("menuIsOpen")):document.body.classList.remove("menuIsOpen")}),document.getElementById("close-menu-hamburguer")&&document.getElementById("close-menu-hamburguer").addEventListener("click",e=>{0==e.target.checked&&(document.querySelector(".menu-container-items").classList.remove("open"),e.target.checked=!0)}),document.getElementById("contain-sider-bar")&&document.getElementById("contain-sider-bar").addEventListener("click",e=>{e.target.classList.value.match(/open/)&&(e.target.classList.remove("open"),document.body.classList.remove("menuIsOpen"))});let novaSenha=document.getElementById("form-novaSenha");if(novaSenha){let e=document.querySelector(".popup-info");novaSenha.addEventListener("submit",t=>{t.preventDefault();let n=location.href.split("?email=")[1],a=document.getElementById("novaSenha").value;if(a!=document.getElementById("confirmNovaSenha").value)return e.parentElement.classList.add("show"),e.innerHTML='\n                <h3 class="error">Ops!</h3>\n                <p>Por favor, digite as senhas iguais nos dois campos</p>\n                <div class="button-container center">\n                    <button onclick="successFalse()">Ok</button>\n                </div>\n            ';let o=new FormData;o.append("email",n),o.append("password",a),fetch(location.origin+"/usuarios/trocarSenha",{method:"POST",body:o}).then(e=>e.json()).then(t=>{1==t.success?(e.parentElement.classList.add("show"),e.innerHTML=`\n                        <h3 class="error">${t.title}</h3>\n                        <p>${t.message}</p>\n                        <div class="button-container center">\n                            <a href="/game/login" class="error">\n                                Ok\n                            </a>\n                        </div>\n                    `,setTimeout(()=>{location.href="/game/login"},5e3)):(e.parentElement.classList.add("show"),e.innerHTML=`\n                        <h3 class="error">${t.title}</h3>\n                        <p>${t.message}</p>\n                        <div class="button-container center">\n                            <button onclick="successFalse()">Ok</button>\n                        </div>\n                    `,setTimeout(()=>{location.reload()},5e3))}).catch(()=>{e.parentElement.classList.add("show"),e.innerHTML='\n                    <h3 class="error">Erro de serviço</h3>\n                    <p>Estamos com problemas internos, por favor, tente mais tarde.</p>\n                    <div class="button-container center">\n                        <a href="/" class="error">\n                            Ok\n                        </a>\n                    </div>\n                ',setTimeout(()=>{location.href="/"},5e3)})})}if(location.href==location.origin+"/game"){function getOrientation(){return window.innerWidth>window.innerHeight?"landscape":"portrait"}window.onresize=function(){"portrait"==getOrientation()&&(document.querySelector(".orientation").style.display="flex",0==document.body.classList.contains("noScroll")&&document.body.classList.add("noScroll")),"landscape"==getOrientation()&&(document.querySelector(".orientation").style.display="none",document.body.classList.contains("noScroll")&&document.body.classList.remove("noScroll"))},window.onload=function(){"portrait"==getOrientation()&&(document.querySelector(".orientation").style.display="flex",0==document.body.classList.contains("noScroll")&&document.body.classList.add("noScroll")),"landscape"==getOrientation()&&(document.querySelector(".orientation").style.display="none",document.body.classList.contains("noScroll")&&document.body.classList.remove("noScroll"))}}let termosPrivacidade=document.querySelector(".container-privacidade");function aceitoTermos(){termosPrivacidade.classList.remove("show")}termosPrivacidade&&(document.onreadystatechange=()=>{"complete"==document.readyState&&termosPrivacidade.classList.add("show")});const formGame=document.getElementById("form-game");let minutes=document.getElementById("minutes"),seconds=document.getElementById("seconds"),min=1,se=0,initialCondition=!0,myVar="",timer={initialValue:0,start:()=>{let e=Date.now();setInterval((function(){timer.initialValue=Date.now()-e}),1)},stop:()=>timer.initialValue};if(formGame){function startTimer(){!0===initialCondition&&(myVar=setInterval(myTimer,1e3)),initialCondition=!1}function myTimer(){se+=1,seconds.innerHTML="0"+se,se>9&&(seconds.innerHTML=se,60===se&&(seconds.innerHTML="00",se=0,addMinute()))}function addMinute(){minutes.innerHTML="0"+min,min>9&&(minutes.innerHTML=min,60===min&&(minutes.innerHTML="00",se=0)),min+=1}function stopTimer(){clearInterval(myVar),initialCondition=!0}function euDesisto(){stopTimer(),fetch(location.origin+"/usuarios/registrarParticipacao",{method:"GET"}).then(e=>e.json()).then(e=>e).catch(e=>{console.log("error -> "+e)}),n.parentElement.classList.add("show"),n.innerHTML='\n            <h3 class="success">Que pena! Você desistiu.</h3>\n            <p>Mas obrigado pela participação e <a href="/" class="link-padrao">Volte para o evento.</a></p>\n        ',setTimeout(()=>{location.href="/usuarios/logout"},5e3)}if(document.querySelector(".container-instrucoes")){function aceitoInstrucoes(){document.querySelector(".container-instrucoes").classList.contains("show")&&(document.querySelector(".container-instrucoes").classList.remove("show"),startTimer(),timer.start())}document.onreadystatechange=()=>{"complete"==document.readyState&&(document.querySelector(".container-instrucoes").classList.add("show"),document.body.classList.add("noScroll"))}}let e=0,t=[],n=document.querySelector(".popup-info"),a=[{quem:"Mineira",veioAprender:"GRC",perfil:"Estagiária",trabalhaCom:"Automação",empresa:"Empresa C"},{quem:"Paraense",veioAprender:"LGPD",perfil:"Analista",trabalhaCom:"Inteligência Artificial",empresa:"Empresa B"},{quem:"Catarinense",veioAprender:"Open Source",perfil:"Diretora",trabalhaCom:"Segurança",empresa:"Empresa D"},{quem:"Baiana",veioAprender:"Machine Learning",perfil:"Gerente",trabalhaCom:"Infraestrutura",empresa:"Empresa E"},{quem:"Goiana",veioAprender:"Solução Híbrida",perfil:"Coordenadora",trabalhaCom:"Data",empresa:"Empresa A"}],o={};document.getElementById("quem1").addEventListener("change",e=>{o.quem=e.target.value,"Mineira"==e.target.value&&"Automação"==document.getElementById("trabalhaCom1").value&&(document.getElementById("isMineiraCargo").checked=!0)}),document.getElementById("veioAprender1").addEventListener("change",e=>{o.veioAprender=e.target.value,"GRC"==e.target.value&&(document.getElementById("isGRC").checked=!0),"GRC"==e.target.value&&"Paraense"==document.getElementById("quem2").value&&(document.getElementById("isParaense").checked=!0)}),document.getElementById("perfil1").addEventListener("change",e=>{o.perfil=e.target.value,"Estagiária"==e.target.value&&"Inteligência Artificial"==document.getElementById("trabalhaCom2").value&&(document.getElementById("isEstagiaria").checked=!0)}),document.getElementById("trabalhaCom1").addEventListener("change",e=>{o.trabalhaCom=e.target.value,"Automação"==e.target.value&&"Mineira"==document.getElementById("quem1").value&&(document.getElementById("isMineiraCargo").checked=!0)}),document.getElementById("empresa1").addEventListener("change",e=>{o.empresa=e.target.value,"Empresa C"==e.target.value&&"Inteligência Artificial"==document.getElementById("trabalhaCom2").value&&(document.getElementById("isInteligenciaArtificial").checked=!0)});let r={};document.getElementById("quem2").addEventListener("change",e=>{r.quem=e.target.value,"Paraense"==e.target.value&&"GRC"==document.getElementById("veioAprender1").value&&(document.getElementById("isParaense").checked=!0)}),document.getElementById("veioAprender2").addEventListener("change",e=>{r.veioAprender=e.target.value,"LGPD"==e.target.value&&"Analista"==document.getElementById("perfil2").value&&(document.getElementById("isLGPD").checked=!0)}),document.getElementById("perfil2").addEventListener("change",e=>{r.perfil=e.target.value,"Analista"==e.target.value&&"LGPD"==document.getElementById("veioAprender2").value&&(document.getElementById("isLGPD").checked=!0)}),document.getElementById("trabalhaCom2").addEventListener("change",e=>{r.trabalhaCom=e.target.value,"Inteligência Artificial"==e.target.value&&"Empresa C"==document.getElementById("empresa1").value&&(document.getElementById("isInteligenciaArtificial").checked=!0),"Inteligência Artificial"==e.target.value&&"Estagiária"==document.getElementById("perfil1").value&&(document.getElementById("isEstagiaria").checked=!0)}),document.getElementById("empresa2").addEventListener("change",e=>{r.empresa=e.target.value,"Empresa B"==e.target.value&&(document.getElementById("isEmpresaB").checked=!0)});let i={};document.getElementById("quem3").addEventListener("change",e=>{i.quem=e.target.value}),document.getElementById("veioAprender3").addEventListener("change",e=>{i.veioAprender=e.target.value,"Open Source"==e.target.value&&(document.getElementById("isOpenSource").checked=!0)}),document.getElementById("perfil3").addEventListener("change",e=>{i.perfil=e.target.value,"Diretora"==e.target.value&&(document.getElementById("isDiretora").checked=!0)}),document.getElementById("trabalhaCom3").addEventListener("change",e=>{i.trabalhaCom=e.target.value,"Segurança"==e.target.value&&"Empresa D"==document.getElementById("empresa3").value&&(document.getElementById("isSeguranca").checked=!0)}),document.getElementById("empresa3").addEventListener("change",e=>{i.empresa=e.target.value,"Empresa D"==e.target.value&&"Segurança"==document.getElementById("trabalhaCom3").value&&(document.getElementById("isSeguranca").checked=!0)});let s={};document.getElementById("quem4").addEventListener("change",e=>{s.quem=e.target.value,"Baiana"==e.target.value&&"Goiana"==document.getElementById("quem5").value&&(document.getElementById("isBaiana").checked=!0),"Baiana"==e.target.value&&"Gerente"==document.getElementById("perfil4").value&&(document.getElementById("isBaianaCargo").checked=!0)}),document.getElementById("veioAprender4").addEventListener("change",e=>{s.veioAprender=e.target.value,"Machine Learning"==e.target.value&&"Infraestrutura"==document.getElementById("trabalhaCom4").value&&(document.getElementById("isMachineLearging").checked=!0)}),document.getElementById("perfil4").addEventListener("change",e=>{s.perfil=e.target.value,"Gerente"==e.target.value&&"Baiana"==document.getElementById("quem4").value&&(document.getElementById("isBaianaCargo").checked=!0)}),document.getElementById("trabalhaCom4").addEventListener("change",e=>{s.trabalhaCom=e.target.value,"Infraestrutura"==e.target.value&&"Machine Learning"==document.getElementById("veioAprender4").value&&(document.getElementById("isMachineLearging").checked=!0)}),document.getElementById("empresa4").addEventListener("change",e=>{s.empresa=e.target.value});let c={};document.getElementById("quem5").addEventListener("change",e=>{c.quem=e.target.value,"Goiana"==e.target.value&&"Baiana"==document.getElementById("quem4").value&&(document.getElementById("isBaiana").checked=!0)}),document.getElementById("veioAprender5").addEventListener("change",e=>{c.veioAprender=e.target.value,"Solução Híbrida"==e.target.value&&"Empresa A"==document.getElementById("empresa5").value&&(document.getElementById("isSolucaoHibrida").checked=!0)}),document.getElementById("perfil5").addEventListener("change",e=>{c.perfil=e.target.value}),document.getElementById("trabalhaCom5").addEventListener("change",e=>{c.trabalhaCom=e.target.value,"Data"==e.target.value&&(document.getElementById("isData").checked=!0)}),document.getElementById("empresa5").addEventListener("change",e=>{c.empresa=e.target.value,"Empresa A"==e.target.value&&"Solução Híbrida"==document.getElementById("veioAprender5").value&&(document.getElementById("isSolucaoHibrida").checked=!0)}),formGame.addEventListener("submit",(function(d){d.preventDefault(),window.scrollTo(0,0),window.document.body.classList.add("noScroll"),t.push(o,r,i,s,c),t.forEach((t,n)=>{t.quem==a[n].quem&&(e+=1),t.veioAprender==a[n].veioAprender&&(e+=1),t.perfil==a[n].perfil&&(e+=1),t.trabalhaCom==a[n].trabalhaCom&&(e+=1),t.empresa==a[n].empresa&&(e+=1),e<=0&&(e=0)});const l=new FormData;l.append("score",e),l.append("gametime",timer.stop()),stopTimer(),fetch(location.origin+"/game/salvar",{method:"POST",body:l}).then(e=>e.json()).then(async()=>{const e=await fetch(location.origin+"/usuarios/registrarParticipacao");await e.json(),n.parentElement.classList.add("show"),n.innerHTML='\n                    <h3>Parabéns! Você conseguiu.</h3>\n                    <a href="/usuarios/logout" class="link-padrao mb">Confira o ranking</a>\n                    <a href="/" class="link-padrao mb">Volte para o evento</a>\n                ',setTimeout(()=>{location.href="/usuarios/logout"},5e3)}).catch(()=>{n.parentElement.classList.add("show"),n.innerHTML='\n                    <h3>Erro de serviço</h3>\n                    <p>Estamos com problemas internos, por favor, tente mais tarde.</p>\n                    <div class="button-container center">\n                        <a href="/">\n                            Ok\n                        </a>\n                    </div>\n                ',setTimeout(()=>{location.href="/"},5e3)})}))}let ranking=document.querySelector(".ranking-container");if(ranking){(async()=>{const e=await fetch(location.origin+"/game/getRanking",{cache:"no-cache"}),t=await e.json();t&&t.data?t.data.forEach((e,t)=>{document.getElementById("ranking").innerHTML+=`\n                    <div class="ranking-container-item">\n                        <p>${t+1}</p>\n                        <p>${e.name}</p>\n                        <p>${formatTime(e.gametime)}</p>\n                    </div>\n                `}):(ranking.classList.add("no-points"),document.getElementById("ranking").innerHTML+='\n                <div class="ranking-msg">\n                    <p>Pontuação indisponível no momento :(</p>\n                </div>\n            ')})()}let cadastroAprovado=document.querySelector(".container-cadastro-aprovado");const fecharCadastroAprovado=()=>{cadastroAprovado.classList.contains("show")&&cadastroAprovado.classList.remove("show")};function formatTime(e){let t=Math.floor(e/1e3),n=Math.floor(t/60),a=t%60,o=e%1e3;return n=n.toString().padStart(2,0),a=a.toString().padStart(2,0),o=o.toString().padStart(2,0),`${n}:${a}:${o}`}function successFalse(){let e=document.querySelector(".popup-info");if(e.parentElement.classList.contains("show"))return e.parentElement.classList.remove("show")}